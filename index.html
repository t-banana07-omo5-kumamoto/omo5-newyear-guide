<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMO5熊本：年末年始ご近所ガイド 2025-2026 完全版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Chosen Palette: OMO5 Style (Deep Grey, Amber, Crimson) -->
    <style>
        :root {
            --omo-black: #1c1917;
            --omo-gold: #d97706;
            --omo-red: #991b1b;
            --omo-bg: #fafaf9;
        }
        body { font-family: 'Noto Sans JP', sans-serif; background-color: var(--omo-bg); color: var(--omo-black); }
        .chart-container { position: relative; width: 100%; height: 240px; margin: auto; }
        .date-active { background-color: var(--omo-red) !important; color: white !important; transform: scale(1.05); }
        .cat-active { background-color: var(--omo-gold) !important; color: white !important; }
        .custom-shadow { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.02); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>

    <!-- Application Structure Plan:
         1. **Hero Display**: Immediate recognition of the hotel guide.
         2. **Integrated Data Storage**: All 24 rows from CSV are mapped into a JavaScript object.
         3. **Live Status Filter**: Users can filter by date (12/30-1/4) and category (Mall, Food, Ramen, etc).
         4. **Activity Analytics**: A donut chart showing the "Town's Openness" for the selected day.
         5. **Detail Cards**: Clean cards showing name, status, hours, and specific remarks from the CSV.
         
         JUSTIFICATION: This structure prioritizes the guest's most common question: "What is open right now?"
    -->

    <!-- Visualization & Content Choices:
         - Opening Proportion (Chart.js): Visual indicator of the town's festive buzz.
         - Dynamic Status Badges: Color-coded (Green=Open, Red=Closed, Yellow=Limited).
         - Responsive Grid: Adapts from mobile-single column to desktop-two column.
         - CONFIRMATION: NO SVG used. NO Mermaid JS used.
    -->
</head>
<body class="antialiased min-h-screen">

    <!-- Header Section -->
    <header class="bg-stone-900 text-white pt-10 pb-14 px-6 rounded-b-[3rem] shadow-2xl relative overflow-hidden">
        <div class="max-w-2xl mx-auto relative z-10">
            <div class="inline-flex items-center gap-2 px-3 py-1 bg-amber-600/20 text-amber-500 border border-amber-600/30 rounded-full text-[10px] font-bold mb-4">
                OMO5 KUMAMOTO NEIGHBORHOOD GUIDE
            </div>
            <h1 class="text-3xl md:text-5xl font-black leading-tight mb-3">
                年末年始<br><span class="text-amber-500">ご近所営業マップ</span><br><span class="text-white/50 text-2xl md:text-3xl">2025-2026</span>
            </h1>
            <p class="text-stone-400 text-xs md:text-sm">
                CSV提供データ（全24件）をすべて反映。<br>
                大晦日の深夜営業や、元旦から開いているお店をチェックしましょう。
            </p>
        </div>
        <!-- Abstract Background Shape -->
        <div class="absolute -right-20 -bottom-20 w-64 h-64 bg-amber-600/10 rounded-full blur-3xl"></div>
    </header>

    <main class="max-w-4xl mx-auto px-4 -mt-8">
        
        <!-- Date Selector (Sticky) -->
        <div class="bg-white rounded-3xl p-3 shadow-2xl border border-stone-100 sticky top-4 z-50 mb-8">
            <div class="flex overflow-x-auto gap-2 no-scrollbar" id="date-tabs">
                <button onclick="changeDate('12/30')" class="date-btn flex-shrink-0 flex-grow basis-1/6 min-w-[70px] border border-stone-100 rounded-2xl py-3 text-center transition-all" data-date="12/30">
                    <span class="block text-[10px] opacity-50">12/30</span><span class="block font-bold">火</span>
                </button>
                <button onclick="changeDate('12/31')" class="date-btn flex-shrink-0 flex-grow basis-1/6 min-w-[70px] border border-stone-100 rounded-2xl py-3 text-center transition-all" data-date="12/31">
                    <span class="block text-[10px] opacity-50">12/31</span><span class="block font-bold">大晦日</span>
                </button>
                <button onclick="changeDate('1/1')" class="date-btn flex-shrink-0 flex-grow basis-1/6 min-w-[70px] border border-stone-100 rounded-2xl py-3 text-center transition-all" data-date="1/1">
                    <span class="block text-[10px] text-rose-500">1/1</span><span class="block font-bold text-rose-600">元旦</span>
                </button>
                <button onclick="changeDate('1/2')" class="date-btn flex-shrink-0 flex-grow basis-1/6 min-w-[70px] border border-stone-100 rounded-2xl py-3 text-center transition-all" data-date="1/2">
                    <span class="block text-[10px] opacity-50">1/2</span><span class="block font-bold">初売</span>
                </button>
                <button onclick="changeDate('1/3')" class="date-btn flex-shrink-0 flex-grow basis-1/6 min-w-[70px] border border-stone-100 rounded-2xl py-3 text-center transition-all" data-date="1/3">
                    <span class="block text-[10px] opacity-50">1/3</span><span class="block font-bold">土</span>
                </button>
                <button onclick="changeDate('1/4')" class="date-btn flex-shrink-0 flex-grow basis-1/6 min-w-[70px] border border-stone-100 rounded-2xl py-3 text-center transition-all" data-date="1/4">
                    <span class="block text-[10px] opacity-50">1/4</span><span class="block font-bold">日</span>
                </button>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Left Panel: Analytics & Filters -->
            <div class="space-y-6">
                <div class="bg-white rounded-[2rem] p-6 shadow-sm border border-stone-100">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold">本日の活気</h3>
                        <div class="text-right">
                            <span id="open-count" class="text-2xl font-black text-green-600">0</span>
                            <span class="text-[10px] text-stone-400"> /24件 営業</span>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="ratioChart"></canvas>
                    </div>
                </div>

                <div class="bg-white rounded-[2rem] p-6 shadow-sm border border-stone-100">
                    <h3 class="font-bold mb-4">目的で絞り込む</h3>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="setCat('all')" class="cat-btn px-4 py-2 bg-stone-100 rounded-full text-[11px] font-bold cat-active" data-cat="all">すべて</button>
                        <button onclick="setCat('mall')" class="cat-btn px-4 py-2 bg-stone-100 rounded-full text-[11px] font-bold" data-cat="mall">大型・百貨店</button>
                        <button onclick="setCat('food')" class="cat-btn px-4 py-2 bg-stone-100 rounded-full text-[11px] font-bold" data-cat="food">飲食店</button>
                        <button onclick="setCat('ramen')" class="cat-btn px-4 py-2 bg-stone-100 rounded-full text-[11px] font-bold" data-cat="ramen">ラーメン</button>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Shop Cards -->
            <div class="lg:col-span-2 space-y-4">
                <div id="shop-list" class="space-y-4">
                    <!-- Cards will be dynamically injected here -->
                </div>
                
                <!-- No Data State -->
                <div id="empty-state" class="hidden py-20 text-center bg-stone-100 rounded-[2.5rem] border-2 border-dashed border-stone-200">
                    <p class="text-stone-400 text-sm">該当する店舗がありません。</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="mt-20 py-12 bg-stone-900 text-stone-500 px-6 text-center">
        <p class="text-xs font-bold text-white mb-2">OMO5熊本 by 星野リゾート</p>
        <p class="text-[10px] max-w-xs mx-auto">
            ※情報はCSVデータから抽出した2025-2026年版です。
            当日の急な営業変更等については各店舗へお電話にてご確認ください。
        </p>
    </footer>

    <script>
        // Full Data from CSV (All 24 Entries)
        const db = [
            { name: "鶴屋百貨店", cat: "mall", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"初売り•通常", "1/3":"通常", "1/4":"通常"}, note: "熊本のシンボル。1/2は初売り。" },
            { name: "COCOSA（B1食品売り場）", cat: "mall", schedule: {"12/30":"通常", "12/31":"10:00-22:00", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "サクラマチ(飲食B1/3F)", cat: "mall", schedule: {"12/30":"通常", "12/31":"9:30-20:00", "1/1":"9:30-20:00", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "19:30 LO. 元旦営業の貴重なスポット。" },
            { name: "サクラマチクマモト(全館)", cat: "mall", schedule: {"12/30":"通常", "12/31":"9:30-19:00", "1/1":"9:30-19:00", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "阿部牧場(HAB@1F)", cat: "food", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"休み", "1/3":"休み", "1/4":"休み"}, note: "" },
            { name: "ジュピター(HAB@1F)", cat: "mall", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "Flour&water/DRA7(HAB@1F)", cat: "food", schedule: {"12/30":"通常", "12/31":"休み", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "博多 魚蔵(HAB@2F)", cat: "food", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"通常", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "年末年始も休まず営業。" },
            { name: "鼎泰豊(HAB@2F)", cat: "food", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "とんかつ 濵かつ(HAB@2F)", cat: "food", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "I'm COFFEE Stand(HAB@2F)", cat: "food", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "醸音 (HAB@2F)", cat: "food", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "焼肉すどう", cat: "food", schedule: {"12/30":"通常", "12/31":"休み", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "1/2-4は21:00LO。" },
            { name: "赤組 (ラーメン)", cat: "ramen", schedule: {"12/30":"11:00-23:30", "12/31":"休み", "1/1":"休み", "1/2":"11:00-23:30", "1/3":"11:00-23:30", "1/4":"11:00-23:30"}, note: "上通近く。深夜まで営業。" },
            { name: "テラス", cat: "food", schedule: {"12/30":"17:30-24:00", "12/31":"17:00-24:00", "1/1":"休み", "1/2":"17:00-23:00", "1/3":"17:00-23:00", "1/4":"17:00-23:00"}, note: "大晦日も24時まで営業。12/29も営業。" },
            { name: "旬家はちどり", cat: "food", schedule: {"12/30":"17:00-24:00", "12/31":"休み", "1/1":"休み", "1/2":"休み", "1/3":"休み", "1/4":"休み"}, note: "1/5より通常営業。" },
            { name: "惣や", cat: "food", schedule: {"12/30":"通常", "12/31":"休み", "1/1":"休み", "1/2":"17:00-23:00", "1/3":"17:00-23:00", "1/4":"通常"}, note: "" },
            { name: "菅乃屋 (上通)", cat: "food", schedule: {"12/30":"通常", "12/31":"11:00-16:00", "1/1":"休み", "1/2":"休み", "1/3":"通常", "1/4":"通常"}, note: "15:30 LO. 馬肉料理の名店。" },
            { name: "菅乃屋 (銀座通り)", cat: "food", schedule: {"12/30":"通常", "12/31":"11:00-16:00", "1/1":"休み", "1/2":"通常", "1/3":"通常", "1/4":"通常"}, note: "15:30 LO。" },
            { name: "勝烈亭 (新市街)", cat: "food", schedule: {"12/30":"通常", "12/31":"休み", "1/1":"休み", "1/2":"11:30-21:30", "1/3":"11:30-21:30", "1/4":"通常"}, note: "" },
            { name: "桂花ラーメン (本店)", cat: "ramen", schedule: {"12/30":"通常", "12/31":"11:00-16:00", "1/1":"休み", "1/2":"休み", "1/3":"11:00-16:00", "1/4":"通常"}, note: "15:30 LO。" },
            { name: "桂花ラーメン (鶴屋店)", cat: "ramen", schedule: {"12/30":"通常", "12/31":"通常", "1/1":"休み", "1/2":"10:00-19:00", "1/3":"通常", "1/4":"通常"}, note: "" },
            { name: "紅蘭亭 (下通本店)", cat: "food", schedule: {"12/30":"通常", "12/31":"11:00-15:00", "1/1":"休み", "1/2":"11:00-20:00", "1/3":"通常", "1/4":"通常"}, note: "太平燕が有名。" },
            { name: "紅蘭亭 (上通パビリオン)", cat: "food", schedule: {"12/30":"通常", "12/31":"11:00-15:00", "1/1":"休み", "1/2":"休み", "1/3":"通常", "1/4":"通常"}, note: "" }
        ];

        let curDate = "1/1";
        let curCat = "all";
        let myChart = null;

        function changeDate(date) {
            curDate = date;
            document.querySelectorAll('.date-btn').forEach(btn => {
                btn.classList.toggle('date-active', btn.dataset.date === date);
            });
            render();
        }

        function setCat(cat) {
            curCat = cat;
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.toggle('cat-active', btn.dataset.cat === cat);
            });
            render();
        }

        function render() {
            const listContainer = document.getElementById('shop-list');
            const emptyState = document.getElementById('empty-state');
            listContainer.innerHTML = '';

            const filtered = db.filter(d => curCat === 'all' || d.cat === curCat);
            
            let open = 0;
            let total = filtered.length;

            filtered.forEach(d => {
                const status = d.schedule[curDate];
                const isClosed = status.includes("休み") || status.includes("休");
                if(!isClosed) open++;

                const card = document.createElement('div');
                card.className = `bg-white p-5 rounded-[2rem] shadow-sm border border-stone-100 flex justify-between items-center transition-all ${isClosed ? 'opacity-40 grayscale' : 'hover:custom-shadow'}`;
                
                const badge = isClosed 
                    ? `<span class="px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded">休業</span>`
                    : `<span class="px-2 py-0.5 bg-green-100 text-green-700 text-[10px] font-bold rounded">営業</span>`;

                card.innerHTML = `
                    <div class="flex-grow">
                        <div class="flex items-center gap-2 mb-1">
                            ${badge}
                            <h4 class="font-bold text-sm text-stone-800">${d.name}</h4>
                        </div>
                        <p class="text-[10px] text-stone-400 max-w-[180px]">${d.note || '年末年始特別営業'}</p>
                    </div>
                    <div class="text-right flex-shrink-0 ml-4">
                        <p class="text-xs font-black text-stone-800">${status}</p>
                        <p class="text-[8px] text-stone-400 uppercase tracking-widest">Status</p>
                    </div>
                `;
                listContainer.appendChild(card);
            });

            emptyState.classList.toggle('hidden', total > 0);
            updateStats(open, total - open);
        }

        function updateStats(o, c) {
            document.getElementById('open-count').textContent = o;
            const ctx = document.getElementById('ratioChart').getContext('2d');
            if (myChart) myChart.destroy();
            myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [o, c],
                        backgroundColor: ['#10b981', '#e5e7eb'],
                        borderWidth: 0
                    }]
                },
                options: {
                    cutout: '85%',
                    plugins: { tooltip: { enabled: false } }
                }
            });
        }

        // Initialize
        window.onload = () => changeDate("1/1");
    </script>
</body>
</html>